(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-98dbd030"],{1527:function(t,i,e){"use strict";e.r(i);var a,n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"activation-mining"},[e("span",[t._v(" "+t._s(t.$t("activationMining.text1")))]),e("div",{staticClass:"container"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("activationMining.text2")))]),e("div",{staticClass:"input"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.bindaddress,expression:"bindaddress"}],attrs:{placeholder:t.$t("activationMining.text3")},domProps:{value:t.bindaddress},on:{input:function(i){i.target.composing||(t.bindaddress=i.target.value)}}})]),e("div",{staticClass:"middle"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.checkbox,expression:"checkbox"}],attrs:{type:"checkbox",name:"",id:""},domProps:{checked:Array.isArray(t.checkbox)?t._i(t.checkbox,null)>-1:t.checkbox},on:{change:function(i){var e=t.checkbox,a=i.target,n=!!a.checked;if(Array.isArray(e)){var s=null,o=t._i(e,s);a.checked?o<0&&(t.checkbox=e.concat([s])):o>-1&&(t.checkbox=e.slice(0,o).concat(e.slice(o+1)))}else t.checkbox=n}}}),e("div",[e("span",[t._v(t._s(t.$t("activationMining.text4")))]),e("span",{staticClass:"tow"},[t._v(t._s(t.$t("activationMining.text5")))]),e("span",[t._v(t._s(t.$t("activationMining.text6")))])])]),e("van-button",{directives:[{name:"show",rawName:"v-show",value:"none"===t.tradeState,expression:"tradeState === 'none'"}],staticClass:"double-button",on:{click:t.makeRelation}},[t._v(t._s(t.btnText))]),e("van-button",{directives:[{name:"show",rawName:"v-show",value:"none"!==t.tradeState,expression:"tradeState !== 'none'"}],staticClass:"double-button",attrs:{loading:"","loading-text":t.btnText}})],1)])},s=[],o=(e("b0c0"),e("e7e5"),e("d399")),c=e("5530"),d=e("ade3"),r=(e("c3a6"),e("ad06")),l=(e("66b9"),e("b650")),h=e("2f62"),u={components:(a={},Object(d["a"])(a,l["a"].name,l["a"]),Object(d["a"])(a,r["a"].name,r["a"]),a),data:function(){return{bindaddress:"",tradeState:"none",checkbox:Boolean}},computed:Object(c["a"])(Object(c["a"])({},Object(h["b"])(["showPopup"])),{},{btnText:function(){return"in"===this.tradeState?this.$t("activationMining.text12"):this.$t("activationMining.text13")}}),created:function(){this.$contracts&&this.init()},methods:{init:function(){this.$route.query.invitationCard&&(this.bindaddress=this.$route.query.invitationCard)},makeRelation:function(){var t=this;return this.checkbox?this.bindaddress.length<=0?o["a"].fail(this.$t("activationMining.text8")):this.$web3.utils.isAddress(this.bindaddress)?this.bindaddress==this.$address?o["a"].fail(this.$t("activationMining.text14")):void this.$contracts.Family.methods.makeRelation(this.bindaddress).send({from:this.$address}).on("transactionHash",(function(i){t.tradeState="in"})).on("receipt",(function(i){o["a"].fail(t.$t("activationMining.text10")),t.tradeState="none",t.bindaddress="",t.$emit("reload"),t.$store.commit("showPopup","none")})).on("error",(function(i){o["a"].fail(t.$t("activationMining.text11")),t.tradeState="none",t.$store.commit("showPopup","none"),t.bindaddress=""})):o["a"].fail(this.$t("activationMining.text9")):o["a"].fail(this.$t("activationMining.text7"))}}},v=u,b=v,x=(e("cacb"),e("2877")),m=Object(x["a"])(b,n,s,!1,null,"d59cc018",null);i["default"]=m.exports},a33f:function(t,i,e){},cacb:function(t,i,e){"use strict";e("a33f")}}]);