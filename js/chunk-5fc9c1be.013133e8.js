(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5fc9c1be"],{"16b3":function(t,a,e){},5332:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t._self._c;t._self._setupProxy;return a("van-overlay",{attrs:{show:"award"===t.showPopup},on:{click:function(a){return t.$store.commit("showPopup","none")}}},[a("div",{staticClass:"mining-award",on:{click:function(t){t.stopPropagation()}}},[a("span",{staticClass:"title"},[t._v(t._s(t.$t("miningAward.text2")))]),a("div",{staticClass:"total-award"},[a("i"),a("i"),a("i"),a("i"),a("i"),a("i"),a("span",{staticClass:"amount"},[t._v(t._s(t.totalAward.toFixed(2)))])]),a("div",{staticClass:"award-item"},[a("div",[a("span",[t._v(t._s(t.$t("miningAward.text4")))]),a("span",[t._v(t._s(t.powerAward.toFixed(2))+" BBG")])]),a("button",{directives:[{name:"show",rawName:"v-show",value:!t.takingPower,expression:"!takingPower"}],attrs:{disabled:t.powerAward<=0},on:{click:function(a){return t.showTakeAward(t.powerAward,"Power")}}},[t._v(t._s(t.$t("miningAward.text7")))]),a("button",{directives:[{name:"show",rawName:"v-show",value:t.takingPower,expression:"takingPower"}],staticClass:"taking"},[a("van-loading",{attrs:{size:"14"}}),a("span",[t._v(t._s(t.$t("miningAward.text8")))])],1)]),a("div",{staticClass:"award-item"},[a("div",[a("span",[t._v(t._s(t.$t("miningAward.text3")))]),a("span",[t._v(t._s(t.lpAward.toFixed(2))+" BBG")])]),a("button",{directives:[{name:"show",rawName:"v-show",value:!t.takingLp,expression:"!takingLp"}],attrs:{disabled:t.lpAward<=0},on:{click:function(a){return t.showTakeAward(t.lpAward,"LP")}}},[t._v(t._s(t.$t("miningAward.text7")))]),a("button",{directives:[{name:"show",rawName:"v-show",value:t.takingLp,expression:"takingLp"}],staticClass:"taking"},[a("van-loading",{attrs:{size:"14"}}),a("span",[t._v(t._s(t.$t("miningAward.text8")))])],1)]),a("div",{staticClass:"award-item last"},[a("div",[a("span",[t._v(t._s(t.$t("miningAward.text5")))]),a("span",[t._v(t._s(t.nodeAward.toFixed(2))+" BBG")])]),a("button",{directives:[{name:"show",rawName:"v-show",value:!t.takingNode,expression:"!takingNode"}],attrs:{disabled:t.nodeAward<=0},on:{click:function(a){return t.showTakeAward(t.nodeAward,"Node")}}},[t._v(t._s(t.$t("miningAward.text7")))]),a("button",{directives:[{name:"show",rawName:"v-show",value:t.takingNode,expression:"takingNode"}],staticClass:"taking"},[a("van-loading",{attrs:{size:"14"}}),a("span",[t._v(t._s(t.$t("miningAward.text8")))])],1)]),a("van-button",{directives:[{name:"show",rawName:"v-show",value:!t.takingAll,expression:"!takingAll"}],attrs:{disabled:t.totalAward<=0},on:{click:function(a){return t.showTakeAward(t.totalAward,"All")}}},[t._v(t._s(t.$t("miningAward.text12")))]),a("van-button",{directives:[{name:"show",rawName:"v-show",value:t.takingAll,expression:"takingAll"}],attrs:{loading:"","loading-text":t.$t("miningAward.text8")}})],1),a("take-award",{ref:"TakeAward",on:{takeRewardPower:t.takeRewardPower,takeRewardLP:t.takeRewardLP,takeRewardNode:t.takeRewardNode,takeRewardAll:t.takeRewardAll}})],1)},s=[],n=(e("e7e5"),e("d399")),r=(e("ac1e"),e("543e")),o=(e("f1dc"),e("6e47")),d=(e("66b9"),e("b650")),w=e("2f62"),l={components:{[d["a"].name]:d["a"],[o["a"].name]:o["a"],[r["a"].name]:r["a"],"take-award":()=>e.e("chunk-697c6964").then(e.bind(null,"2443"))},props:{powerAward:[String,Number],lpAward:[String,Number],nodeAward:[String,Number]},data(){return{takingPower:!1,takingLp:!1,takingNode:!1,takingAll:!1}},computed:{...Object(w["b"])(["showPopup"]),totalAward(){return this.powerAward.toBN().plus(this.lpAward).plus(this.nodeAward).toFixed()}},methods:{showTakeAward(t,a){this.$refs.TakeAward.init(t,a)},async takeRewardPower(){const t=await this.takeReward(1);this.takingPower=!0,t.on("transactionHash",t=>{this.takingPower=!0}).on("receipt",t=>{this.$emit("reload"),n["a"].success(this.$t("miningAward.text10")),this.takingPower=!1}).on("error",t=>{n["a"].fail(this.$t("miningAward.text11")),this.takingPower=!1})},async takeRewardLP(){const t=await this.takeReward(0);this.takingLp=!0,t.on("transactionHash",t=>{this.takingLp=!0}).on("receipt",t=>{this.$emit("reload"),n["a"].success(this.$t("miningAward.text10")),this.takingLp=!1}).on("error",t=>{n["a"].fail(this.$t("miningAward.text11")),this.takingLp=!1})},async takeRewardNode(){const t=await this.takeReward(2);this.takingNode=!0,t.on("transactionHash",t=>{this.takingNode=!0}).on("receipt",t=>{this.$emit("reload"),n["a"].success(this.$t("miningAward.text10")),this.takingNode=!1}).on("error",t=>{n["a"].fail(this.$t("miningAward.text11")),this.takingNode=!1})},takeReward(t){return this.$refs.TakeAward.hide(),new Promise(a=>{const e=this.$contracts.TokenBiggings.methods.takeReward(t);e.call({from:this.$address},(t,i)=>{t||a(e.send({from:this.$address}))})})},takeRewardAll(){this.$refs.TakeAward.hide();const t=this.$contracts.TokenBiggings.methods.takeRewardAll();t.call({frmo:this.$address},(a,e)=>{a||(this.takingAll=!0,t.send({from:this.$address}).on("transactionHash",t=>{this.takingAll=!0}).on("receipt",t=>{this.$emit("reload"),n["a"].success(this.$t("miningAward.text10")),this.takingAll=!1}).on("error",t=>{n["a"].fail(this.$t("miningAward.text11")),this.takingAll=!1}))})}}},c=l,h=c,k=(e("b9db"),e("2877")),g=Object(k["a"])(h,i,s,!1,null,"4d818623",null);a["default"]=g.exports},ac1e:function(t,a,e){"use strict";e("68ef"),e("e3b3")},b9db:function(t,a,e){"use strict";e("16b3")}}]);