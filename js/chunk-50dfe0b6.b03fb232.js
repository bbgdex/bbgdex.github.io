(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-50dfe0b6"],{"13eb":function(t,e,s){"use strict";s("b475")},"86b9":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"power-transfer"},[e("span",[t._v(t._s(t.$t("powerTransfer.text1")))]),e("div",{staticClass:"container"},[e("div",{staticClass:"transfer-amount"},[e("div",{staticClass:"title"},[e("span",[t._v(t._s(t.$t("powerTransfer.text2")))]),e("span",[t._v(t._s(t.balance.toFixed(4)))])]),e("div",{staticClass:"input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],attrs:{type:"number",placeholder:t.$t("powerTransfer.text3")},domProps:{value:t.amount},on:{input:[function(e){e.target.composing||(t.amount=e.target.value)},t.input]}}),e("van-button",{on:{click:t.allIn}},[t._v(t._s(t.$t("powerTransfer.text4")))])],1)]),e("div",{staticClass:"toAddress"},[e("span",[t._v(t._s(t.amount>0?t.$t("powerTransfer.text5"):t.$t("powerTransfer.text6"))+" "),e("span",[t._v(t._s(t.receive))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.toAddress,expression:"toAddress"}],attrs:{type:"text",placeholder:t.$t("powerTransfer.text7")},domProps:{value:t.toAddress},on:{input:function(e){e.target.composing||(t.toAddress=e.target.value)}}})]),e("van-button",{directives:[{name:"show",rawName:"v-show",value:!t.trading,expression:"!trading"}],staticClass:"double-button",on:{click:t.transfer}},[t._v(t._s(t.$t("powerTransfer.text8")))]),e("van-button",{directives:[{name:"show",rawName:"v-show",value:t.trading,expression:"trading"}],staticClass:"double-button",attrs:{loading:"","loading-text":t.$t("powerTransfer.text9")}})],1)])},r=[],n=(s("e7e5"),s("d399")),i=(s("66b9"),s("b650"));const o=5;var d={components:{[i["a"].name]:i["a"]},data(){return{amount:"",toAddress:"",balance:0,receive:o+"%",trading:!1}},created(){this.$contracts&&this.init()},methods:{allIn(){this.amount=this.balance,this.input()},input(){if(this.amount<=0)return this.receive=o+"%",!1;this.receive=this.amount.toBN().minus(this.amount.toBN().div(100).times(o)).toFixed().toFixed(0)},transfer(){if(this.amount<=0)return n["a"].fail(this.$t("powerTransfer.text10"));if(this.balance.toBN().lt(this.amount))return n["a"].fail(this.$t("powerTransfer.text11"));if(!this.$web3.utils.isAddress(this.toAddress))return n["a"].fail(this.$t("powerTransfer.text12"));const t=this.$contracts.ForceToken.methods.transfer(this.toAddress,this.amount.toWei());t.call({from:this.$address},(e,s)=>{e||t.send({from:this.$address}).on("transactionHash",t=>{this.trading=!0}).on("receipt",t=>{this.init(),n["a"].success(this.$t("powerTransfer.text13")),this.trading=!1,this.amount="",this.receive=o+"%",this.toAddress=""}).on("error",t=>{this.trading=!1})})},init(){this.$contracts.ForceToken.methods.balanceOf(this.$address).call({from:this.$address},(t,e)=>{t||(this.balance=e.fromWei().toFixed(0))})}}},c=d,u=c,l=(s("13eb"),s("2877")),h=Object(l["a"])(u,a,r,!1,null,"7362ce6c",null);e["default"]=h.exports},b475:function(t,e,s){}}]);