(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7646a3ae"],{"86b9":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"power-transfer"},[e("span",[t._v(t._s(t.$t("powerTransfer.text1")))]),e("div",{staticClass:"container"},[e("div",{staticClass:"label"},[e("span",[t._v(t._s(t.$t("powerTransfer.text2")))]),e("span",[t._v(t._s(t.balance.toFixed(2)))])]),e("div",{staticClass:"input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],attrs:{type:"number",placeholder:t.$t("powerTransfer.text3")},domProps:{value:t.amount},on:{input:function(e){e.target.composing||(t.amount=e.target.value)}}}),e("van-button",{on:{click:function(e){t.amount=t.balance}}},[t._v(t._s(t.$t("powerTransfer.text4")))])],1),e("div",{staticClass:"receipt"},[e("div",{staticClass:"label"},[t._v(t._s(t.$t("powerTransfer.text5")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.receiver,expression:"receiver"}],attrs:{type:"text",placeholder:t.$t("powerTransfer.text7")},domProps:{value:t.receiver},on:{input:function(e){e.target.composing||(t.receiver=e.target.value)}}})]),e("van-button",{directives:[{name:"show",rawName:"v-show",value:"none"===t.tradingStatus,expression:"tradingStatus === 'none'"}],staticClass:"double-button",on:{click:t.transfer}},[t._v(t._s(t.btnText))]),e("van-button",{directives:[{name:"show",rawName:"v-show",value:"none"!==t.tradingStatus,expression:"tradingStatus !== 'none'"}],staticClass:"double-button",attrs:{loading:"","loading-text":t.btnText}})],1)])},n=[],r=(s("e7e5"),s("d399")),i=(s("66b9"),s("b650")),o={components:{[i["a"].name]:i["a"]},data(){return{balance:0,amount:"",receiver:"",tradingStatus:"none"}},computed:{btnText(){return"in"===this.tradingStatus?this.$t("powerTransfer.text9"):this.$t("powerTransfer.text8")}},created(){this.$contracts&&this.init()},methods:{init(){this.$contracts.TokenBiggings.methods.userPoolInfo(1,this.$address).call({from:this.$address},(t,e)=>{t||(this.balance=e.supply.fromWei())})},transfer(){return this.amount<=0?r["a"].fail(this.$t("powerTransfer.text10")):this.amount.toBN().gt(this.balance)?r["a"].fail(this.$t("powerTransfer.text11")):this.$web3.utils.isAddress(this.receiver)?void this.$contracts.TokenBiggings.methods.transferForce(this.receiver,this.amount.toWei()).send({from:this.$address}).on("transactionHash",t=>{this.tradingStatus="in"}).on("receipt",t=>{this.init(),this.$emit("reload"),r["a"].success(this.$t("powerTransfer.text13")),this.amount="",this.receiver="",this.tradingStatus="none"}).on("error",t=>{this.tradingStatus="none",console.error(t)}):r["a"].fail(this.$t("powerTransfer.text12"))}}},c=o,u=c,d=(s("d46b"),s("2877")),l=Object(d["a"])(u,a,n,!1,null,"f537b046",null);e["default"]=l.exports},d467:function(t,e,s){},d46b:function(t,e,s){"use strict";s("d467")}}]);