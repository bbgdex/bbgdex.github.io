(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-017c3902","chunk-2d0c0be3"],{"01da":function(t,s,e){t.exports=e.p+"img/miningBall.4efd2391.svg"},"097a":function(t,s,e){t.exports=e.p+"img/router.e489826a.svg"},1116:function(t,s,e){t.exports=e.p+"img/addLiquidity.ca7385a4.svg"},"16b3":function(t,s,e){t.exports=e.p+"img/mining-info.0255d7fe.svg"},"16e0":function(t,s,e){t.exports=e.p+"img/invitationCard.397cced3.svg"},2764:function(t,s,e){t.exports=e.p+"img/success.b3bc2311.svg"},"2db2":function(t,s,e){t.exports=e.p+"img/bbglogo.ecca01fe.svg"},"2f0b":function(t,s,e){t.exports=e.p+"img/exchange.030b46fc.svg"},"31e8":function(t,s,e){var o={"./Bnb.svg":"9b7f","./QRcodelogo.svg":"507c","./activationlogo.svg":"489a","./add.svg":"eef4","./addLiquidity.svg":"1116","./apy-bg.svg":"5dc4","./arraw.svg":"1d4a","./award-bg.svg":"66a7","./bbglogo.svg":"2db2","./buy.svg":"f3f6","./copy.svg":"553b","./countdown.svg":"ceca","./downarrow.svg":"4995","./en.svg":"bc04","./exchange.svg":"2f0b","./icon-exchange.svg":"5605","./info.svg":"07e6","./invitationCard.svg":"16e0","./invitelistAddress.svg":"8dd5","./ja.svg":"19ca","./ko.svg":"ed4a","./la.svg":"9696","./liquidity.svg":"6501","./logo.svg":"9b19","./menu.svg":"36be","./mining-info.svg":"16b3","./miningBall.svg":"01da","./miningBottom.svg":"f9d4","./miningBubbleTop.svg":"da4c","./my.svg":"ab65","./next-light.svg":"949e","./not-trade.svg":"c5f5","./overlayBg.svg":"b746","./pools.svg":"92c4","./prev-dark.svg":"e9c3","./rate.svg":"ab45","./reload.svg":"b318","./remove.svg":"7e18","./round.svg":"86ef","./router.svg":"097a","./sell.svg":"46d3","./setting.svg":"cc6c","./success.svg":"2764","./swap.svg":"3fb0","./swapTo.svg":"8242","./switch-token.svg":"7a79","./time.svg":"f490","./tokens-empty.svg":"42a0","./topBg.svg":"8a0c","./usdtlogo.svg":"870d","./vi.svg":"2291","./wallet.svg":"bc38","./zh-hk.svg":"9115","./zh_hk.svg":"7671"};function a(t){var s=i(t);return e(s)}function i(t){if(!e.o(o,t)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return o[t]}a.keys=function(){return Object.keys(o)},a.resolve=i,t.exports=a,a.id="31e8"},"42a0":function(t,s,e){t.exports=e.p+"img/tokens-empty.9bf14c1b.svg"},"46d3":function(t,s,e){t.exports=e.p+"img/sell.558b09b5.svg"},"489a":function(t,s,e){t.exports=e.p+"img/activationlogo.a4ed6da9.svg"},4995:function(t,s,e){t.exports=e.p+"img/downarrow.3dc9d2e1.svg"},"507c":function(t,s,e){t.exports=e.p+"img/QRcodelogo.fdf1ae12.svg"},"553b":function(t,s,e){t.exports=e.p+"img/copy.a4630235.svg"},5605:function(t,s,e){t.exports=e.p+"img/icon-exchange.cfc0e461.svg"},"5dc4":function(t,s,e){t.exports=e.p+"img/apy-bg.29d384e9.svg"},"625d":function(t,s,e){},"66a7":function(t,s,e){t.exports=e.p+"img/award-bg.162ca5cb.svg"},"797b":function(t,s,e){"use strict";e.r(s);var o=function(){var t=this,s=t._self._c;t._self._setupProxy;return s("div",{staticClass:"info"},[s("div",{staticClass:"introduce"},[s("div",{staticClass:"header"},[s("div",{staticClass:"token"},[s("img",{attrs:{src:t.token1.logoURI}}),s("div",{staticClass:"token-info"},[s("div",{on:{click:t.openSearch}},[s("h2",[t._v(t._s(t.token1.symbol))]),s("img",{attrs:{src:e("1d4a")}})]),s("span",[t._v(t._s(t.token1.name))])])]),s("div",{staticClass:"address"},[s("span",{domProps:{textContent:t._s(`${t.token1.address.slice(0,5)}...${t.token1.address.slice(-5)}`)}}),s("img",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.token1.address,expression:"token1.address",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.copyDone,expression:"copyDone",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.copyError,expression:"copyError",arg:"error"}],attrs:{src:e("553b")}})])]),s("div",{staticClass:"liquidity"},[s("span",[t._v(t._s(t.$t("info.text1"))+" "),s("span",[t._v("$ "+t._s(t.reserveUSD))])]),s("div",{staticClass:"tokens"},[s("div",[s("div",{staticClass:"select",on:{click:function(s){t.showToken0Options=!0}}},[s("span",[t._v(t._s(t.token0.symbol))]),s("img",{attrs:{src:e("1d4a")}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showToken0Options,expression:"showToken0Options"}],staticClass:"options"},t._l(t.token0Options,(function(e){return s("span",{key:e.address,domProps:{textContent:t._s(e.symbol)},on:{click:function(s){return s.stopPropagation(),t.selectToken0(e)}}})})),0),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showToken0Options,expression:"showToken0Options"}],staticClass:"overlay",on:{click:function(s){s.stopPropagation(),t.showToken0Options=!1}}})]),s("span",[t._v(t._s(t.reserve0))])]),s("div",[s("span",[t._v(t._s(t.token1.symbol))]),s("span",[t._v(t._s(t.reserve1))])])])])]),s("div",{staticClass:"datas"},[s("div",[s("span",[t._v(t._s(t.$t("info.text6")))]),s("span",[t._v(t._s(t.transactions))])]),s("div",[s("span",[t._v(t._s(t.$t("info.text7")))]),s("span",[t._v("$ "+t._s(t.volume))])])]),s("div",{staticClass:"latest-transactions"},[s("div",{staticClass:"header"},[s("span",[t._v(t._s(t.$t("info.text8")))]),s("div",{staticClass:"filter",on:{click:function(s){t.showOptions=!0}}},[s("img",{attrs:{src:e("1d4a")}}),s("span",[t._v(t._s(t.$t("info.text9")))]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showOptions,expression:"showOptions"}],staticClass:"options"},[s("span",{on:{click:function(s){return s.stopPropagation(),t.selectType("all")}}},[t._v(t._s(t.$t("info.text14")))]),s("span",{on:{click:function(s){return s.stopPropagation(),t.selectType("sell")}}},[t._v(t._s(t.$t("info.text11")))]),s("span",{on:{click:function(s){return s.stopPropagation(),t.selectType("buy")}}},[t._v(t._s(t.$t("info.text10")))]),s("span",{on:{click:function(s){return s.stopPropagation(),t.selectType("add")}}},[t._v(t._s(t.$t("info.text12")))]),s("span",{on:{click:function(s){return s.stopPropagation(),t.selectType("remove")}}},[t._v(t._s(t.$t("info.text13")))])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showOptions,expression:"showOptions"}],staticClass:"overlay",on:{click:function(s){s.stopPropagation(),t.showOptions=!1}}})]),s("img",{class:t.reloadClass,attrs:{src:e("b318")},on:{click:t.reload}})]),s("div",{staticClass:"transactions"},t._l(t.transactionsList[t.currentPage],(function(o,a){return s("div",{key:a},[s("div",[s("span",{directives:[{name:"show",rawName:"v-show",value:"buy"===o.type,expression:"item.type === 'buy'"}],class:o.type},[t._v(t._s(t.$t("info.text10")))]),s("span",{directives:[{name:"show",rawName:"v-show",value:"sell"===o.type,expression:"item.type === 'sell'"}],class:o.type},[t._v(t._s(t.$t("info.text11")))]),s("span",{directives:[{name:"show",rawName:"v-show",value:"add"===o.type,expression:"item.type === 'add'"}],class:o.type},[t._v(t._s(t.$t("info.text12")))]),s("span",{directives:[{name:"show",rawName:"v-show",value:"remove"===o.type,expression:"item.type === 'remove'"}],class:o.type},[t._v(t._s(t.$t("info.text13")))]),s("span",[t._v(t._s(o.amount0.toFixed(4))+" "+t._s(t.token1.symbol))])]),s("img",{class:o.type,attrs:{src:e("31e8")(`./${o.type}.svg`)}}),s("div",[s("span",[t._v(t._s(o.time))]),s("span",[t._v(t._s(o.amount1.toFixed(4))+" "+t._s(t.token0.symbol))])])])})),0),s("div",{staticClass:"pagination"},[s("img",{attrs:{src:e("e9c3")},on:{click:t.prevPage}}),s("span",[t._v(t._s(t.currentPage+1)+"/"+t._s(t.totalPage))]),s("img",{attrs:{src:e("949e")},on:{click:t.nextPage}})])]),s("search-tokens",{ref:"searchTokens",on:{select:t.selectToken1}})],1)},a=[],i=(e("e7e5"),e("d399")),n=e("b9cc"),r=e("b4e9"),c={components:{"search-tokens":()=>Promise.all([e.e("chunk-12484184"),e.e("chunk-2d0c2308")]).then(e.bind(null,"bab4"))},data(){return{reloadClass:"",token0:r["c"],token1:r["e"],reserve0:0,reserve1:0,reserveUSD:0,transactions:0,volume:0,type:"all",tradeList:[],currentPage:0,pairAddress:null,flag:!0,showOptions:!1,token0Options:r["l"],showToken0Options:!1}},computed:{transactionsList(){const t="all"===this.type?this.tradeList:this.tradeList.filter(t=>t.type===this.type),s=[];for(let e=0;e<t.length;e+=10)s.push(t.slice(e,e+10));return s},totalPage(){return this.transactionsList.length}},created(){this.$contracts&&this.init()},methods:{copyDone(){i["a"].success("复制成功！")},copyError(t){console.log(t),i["a"].fail("复制失败！")},selectType(t){this.type=t,this.showOptions=!1},openSearch(){this.$refs.searchTokens.open()},selectToken0(t){if(this.showToken0Options=!1,t.symbol===this.token1.symbol)return!1;this.token0=t,this.init()},selectToken1(t){if(t.symbol===this.token0.symbol)return!1;this.token1=t,this.init();const s=[];for(let e=0;e<r["l"].length;e++)s.push([this.$contracts.Factory.options.address,this.$contracts.Factory.methods.getPair(r["l"][e].address,t.address).encodeABI()]);this.$contracts.Multicall.methods.aggregate(s).call({from:this.$address},(t,s)=>{if(!t){const t=[],e=[];for(let o=0;o<s.returnData.length;o++){if(s.returnData[o].toBN().lte(0))continue;const a=new this.$web3.eth.Contract(n,s.returnData[o].decode(["address"]));t.push(r["l"][o]),e.push([a.options.address,a.methods.totalSupply().encodeABI()])}this.$contracts.Multicall.methods.aggregate(e).call({from:this.$address},(s,e)=>{if(!s){let s,o="0".toBN();for(let a=0;a<e.returnData.length;a++)o.lt(e.returnData[a])&&(o=e.returnData[a].toBN(),s=t[a]);s.symbol!==this.token0.symbol&&this.selectToken0(s)}})}})},reload(){this.reloadClass="reload",this.getTransactions(this.pairAddress,this.flag);const t=setTimeout(()=>{this.type="all",this.currentPage=0,this.reloadClass="",clearTimeout(t)},1e3)},prevPage(){if(0===this.currentPage)return!1;this.currentPage--},nextPage(){if(this.currentPage+1===this.totalPage)return!1;this.currentPage++},init(){const t=new this.$web3.BatchRequest,s=new this.$web3.eth.Contract(n,this.token0.address),e=new this.$web3.eth.Contract(n,this.token1.address);this.$contracts.Factory.methods.getPair(this.token0.address,this.token1.address).call({from:this.$address},(o,a)=>{if(!o){if(0===Number(a))return!1;this.flag=this.token0.address.toBN().lt(this.token1.address),this.pairAddress=a.toLowerCase(),this.reserveUSD="loading...",this.transactions="loading...",this.volume="loading...",Object(r["i"])(this.pairAddress).then(t=>{t&&(this.reserveUSD=t.reserveUSD.toFixed(0))}),Object(r["g"])(this.pairAddress).then(t=>{if(t){let s="0".toBN(),e="0".toBN();t.pairHourData.forEach(t=>{s=s.plus(t.hourlyTxns),e=e.plus(t.hourlyVolumeUSD)}),this.transactions=s.toFixed(),this.volume=e.toFixed().toFixed(0)}}),t.add(s.methods.balanceOf(this.pairAddress).call.request({from:this.$address})),t.add(e.methods.balanceOf(this.pairAddress).call.request({from:this.$address})),t.requestManager.sendBatch(t.requests,(t,s)=>{t||(this.reserve0=("string"===typeof s[0]?s[0]:s[0].result).decode(["uint256"]).fromWei().toFixed(0),this.reserve1=s[1].result.decode(["uint256"]).fromWei(this.token1.decimals).toFixed(0))}),this.getTransactions(this.pairAddress,this.flag)}})},formatData(t){const s=Math.floor(new Date/1e3)-Number(t);return s<60?s+"秒前":Math.floor(s/60)<60?Math.floor(s/60)+"分钟前":Math.floor(s/3600)<24?Math.floor(s/3600)+"小时前":Math.floor(s/3600/24)+"天前"},async getTransactions(t,s){const{burns:e,mints:o,swaps:a}=await Object(r["h"])(t),i=[];e.forEach(t=>{i.push({type:"remove",amount0:t["amount"+Number(!s)],amount1:t["amount"+Number(s)],timestamp:Number(t.timestamp),hash:t.id.split("-")[0],time:this.formatData(t.timestamp)})}),o.forEach(t=>{i.push({type:"add",amount0:t["amount"+Number(!s)],amount1:t["amount"+Number(s)],timestamp:Number(t.timestamp),hash:t.id.split("-")[0],time:this.formatData(t.timestamp)})}),s?a.forEach(t=>{t.amount1In>0?i.push({type:"buy",amount0:t.amount0Out,amount1:t.amount1In,timestamp:Number(t.timestamp),hash:t.id.split("-")[0],time:this.formatData(t.timestamp)}):i.push({type:"sell",amount0:t.amount0In,amount1:t.amount1Out,timestamp:Number(t.timestamp),hash:t.id.split("-")[0],time:this.formatData(t.timestamp)})}):a.forEach(t=>{t.amount0In>0?i.push({type:"buy",amount0:t.amount1Out,amount1:t.amount0In,timestamp:Number(t.timestamp),hash:t.id.split("-")[0],time:this.formatData(t.timestamp)}):i.push({type:"sell",amount0:t.amount1In,amount1:t.amount0Out,timestamp:Number(t.timestamp),hash:t.id.split("-")[0],time:this.formatData(t.timestamp)})}),this.tradeList=i.sort((t,s)=>s.timestamp-t.timestamp)}}},p=c,d=p,l=(e("cd83"),e("2877")),m=Object(l["a"])(d,o,a,!1,null,"5c50df4d",null);s["default"]=m.exports},"7a79":function(t,s,e){t.exports=e.p+"img/switch-token.19d35b4c.svg"},"7e18":function(t,s,e){t.exports=e.p+"img/remove.65da57dd.svg"},8242:function(t,s,e){t.exports=e.p+"img/swapTo.1f92de35.svg"},"86ef":function(t,s,e){t.exports=e.p+"img/round.f457c6f9.svg"},"870d":function(t,s,e){t.exports=e.p+"img/usdtlogo.bb5274f9.svg"},"8a0c":function(t,s,e){t.exports=e.p+"img/topBg.f5b537f7.svg"},"8dd5":function(t,s,e){t.exports=e.p+"img/invitelistAddress.7e9b5f0c.svg"},9115:function(t,s,e){t.exports=e.p+"img/zh-hk.81f85ea1.svg"},"949e":function(t,s,e){t.exports=e.p+"img/next-light.d7551722.svg"},ab45:function(t,s,e){t.exports=e.p+"img/rate.d3f91f92.svg"},b318:function(t,s,e){t.exports=e.p+"img/reload.7b00303a.svg"},b746:function(t,s,e){t.exports=e.p+"img/overlayBg.12d05d9d.svg"},bc38:function(t,s,e){t.exports=e.p+"img/wallet.da5c6071.svg"},c5f5:function(t,s,e){t.exports=e.p+"img/not-trade.42aa2a3c.svg"},cd83:function(t,s,e){"use strict";e("625d")},ceca:function(t,s,e){t.exports=e.p+"img/countdown.3c671008.svg"},da4c:function(t,s,e){t.exports=e.p+"img/miningBubbleTop.a333b9eb.svg"},e9c3:function(t,s,e){t.exports=e.p+"img/prev-dark.d356c407.svg"},eef4:function(t,s,e){t.exports=e.p+"img/add.5ea1c9f6.svg"},f3f6:function(t,s,e){t.exports=e.p+"img/buy.eda5a5bf.svg"},f490:function(t,s,e){t.exports=e.p+"img/time.e08ffb60.svg"},f9d4:function(t,s,e){t.exports=e.p+"img/miningBottom.2527cb40.svg"}}]);